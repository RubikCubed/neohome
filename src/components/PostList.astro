---
import { getCollection } from "astro:content";
import Post from "./Post.astro";

const blogEntries = (await getCollection("blog"))
    .sort((a, b) => {
        return b.data.pubDate.getTime() - a.data.pubDate.getTime();
    })
    .filter((elem) => {
        if (elem.data.draft === true) {
            return false;
        } else {
            return true;
        }
    });
---

<h1>All posts</h1>

<ul class="flex flex-col gap-3">
    {
        blogEntries.map((item) => {
            // console.log(item);
            return <Post post={item} />;
        })
    }
</ul>

<style>
    h1 {
        padding-bottom: 2rem;
    }
</style>
